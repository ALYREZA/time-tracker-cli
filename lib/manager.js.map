{"version":3,"sources":["../src/Manager.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAMa;AACT,aADS,OACT,CAAY,GAAZ,EAAiB;8BADR,SACQ;;AACb,aAAK,KAAL,GAAa,oBAAK,IAAI,GAAJ,CAAQ,KAAR,CAAlB,CADa;KAAjB;;iBADS;;gCAKD,MAAM;AACV,mBAAO,IAAC,CAAK,KAAL,CAAW,IAAX,CAAD,GAAqB,mBAAS,KAAK,KAAL,CAAW,IAAX,CAAT,CAArB,GAAkD,oBAAlD,CADG;;;;qCAID;AACT,mBAAO,GAAP,CAAW,OAAX,EAAoB,eAAK,SAAL,CAAe,KAAK,KAAL,CAAnC,EADS;;;;gCAIL,MAAM,KAAK;AACf,gBAAI,SAAS,EAAT,CADW;AAEf,mBAAO,IAAP,IAAe,GAAf,CAFe;AAGf,iBAAK,KAAL,GAAa,OAAO,MAAP,CAAc,EAAd,EAAkB,KAAK,KAAL,EAAY,MAA9B,CAAb,CAHe;;;;8BAMb,MAAM;AACR,gBAAI,IAAI,KAAK,OAAL,CAAa,IAAb,CAAJ,CADI;AAER,cAAE,KAAF,GAFQ;AAGR,iBAAK,UAAL,GAHQ;;;;6BAMP,MAAM;AACP,gBAAI,IAAI,KAAK,OAAL,CAAa,IAAb,CAAJ,CADG;AAEP,cAAE,IAAF,GAFO;AAGP,iBAAK,UAAL,GAHO;;;;gCAMH,MAAM;AACV,gBAAI,IAAI,KAAK,OAAL,CAAa,IAAb,CAAJ,CADM;AAEV,mBAAO,EAAE,OAAF,EAAP,CAFU;;;;WA/BL;;;AAqCb,IAAM,SAAS,0BAAgB,kBAAI,IAAJ,EAAU,EAAC,OAAM,EAAN,EAA3B,CAAT;;kBAES,IAAI,OAAJ,CAAY,MAAZ","file":"Manager.js","sourcesContent":["import flat from 'flat'\nimport Task from './Task'\n\nimport Configstore from 'configstore'\nimport pkg from '../package.json'\n\nexport class Manager {\n    constructor(cfg) {\n        this.tasks = flat(cfg.all.tasks)\n    }\n\n    getTask(name) {\n        return (this.tasks[name]) ? new Task(this.tasks[name]) : new Task()\n    }\n\n    storeTasks() {\n        config.set('tasks', flat.unflatten(this.tasks))\n    }\n\n    setTask(name, obj) {\n        let update = {}\n        update[name] = obj\n        this.tasks = Object.assign({}, this.tasks, update)\n    }\n\n    start(name) {\n        let t = this.getTask(name)\n        t.start()\n        this.storeTasks()\n    }\n\n    stop(name) {\n        let t = this.getTask(name)\n        t.stop()\n        this.storeTasks()\n    }\n\n    getTime(name) {\n        let t = this.getTask(name)\n        return t.getTime()\n    }\n}\n\nconst config = new Configstore(pkg.name, {tasks:{}})\n\nexport default new Manager(config)\n"]}